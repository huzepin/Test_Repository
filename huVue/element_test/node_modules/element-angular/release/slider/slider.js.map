{"version":3,"sources":["../../src/slider/slider.ts"],"names":[],"mappings":"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","file":"slider.js","sourceRoot":"","sourcesContent":["import { AfterViewInit, Component, ElementRef, forwardRef, OnInit, ViewChild } from '@angular/core';\nimport { SafeStyle, DomSanitizer } from '@angular/platform-browser';\nimport { ElSliderProps } from './slider.props';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nexport class ElSlider extends ElSliderProps implements OnInit, AfterViewInit, ControlValueAccessor {\n  \n   runwayElement: ElementRef\n  size: number\n  \n  start: number = 0\n  isDragging: boolean = false\n/**\n * @param {?} sanitizer\n */\nconstructor(\nprivate sanitizer: DomSanitizer,\n  ) {\n    super()\n  }\n/**\n * @return {?}\n */\nmakeRunwayStyle(): SafeStyle {\n    const /** @type {?} */ styles = this.vertical ? `height: ${this.height}px;` : ''\n    return this.sanitizer.bypassSecurityTrustStyle(styles)\n  }\n/**\n * @return {?}\n */\nmakeBarStyle(): SafeStyle {\n    const /** @type {?} */ val: number = (this.model - this.min) * 100 / (this.max - this.min)\n    const /** @type {?} */ styles = this.vertical ? `height: ${val}%; bottom: ${this.start}%;`\n      : `width: ${val}%; left: ${this.start}%;`\n    return this.sanitizer.bypassSecurityTrustStyle(styles)\n  }\n/**\n * @return {?}\n */\nresetSize(): void {\n    if (!this.runwayElement) return\n    this.size = this.runwayElement.nativeElement[`client${ this.vertical ? 'Height' : 'Width' }`]\n  }\n/**\n * @param {?} event\n * @return {?}\n */\nonSliderClick(event: MouseEvent): void {\n    if (this.elDisabled || this.isDragging) return\n    this.resetSize()\n    const /** @type {?} */ val: number = this.vertical ? event.clientY : event.clientX\n    const { left, bottom } = this.runwayElement.nativeElement.getBoundingClientRect()\n    const /** @type {?} */ offset: number = Math.abs(val - (this.vertical ? bottom : left))\n    // update value\n    this.model = Math.round((offset / this.size) * (this.max - this.min)) + this.min\n    this.moveChange(this.model)\n    this.makeBarStyle()\n  }\n/**\n * @param {?} nextValue\n * @return {?}\n */\nmoveChange(nextValue: number): void {\n    this.model = nextValue\n    this.modelChange.emit(nextValue)\n    this.controlChange(nextValue)\n  }\n/**\n * @return {?}\n */\nngOnInit(): void {\n    if (!this.model) {\n      this.model = this.min\n    }\n  }\n/**\n * @return {?}\n */\nngAfterViewInit(): void {\n    this.resetSize()\n  }\n/**\n * @param {?} value\n * @return {?}\n */\nwriteValue(value: any): void {\n    this.model = value\n  }\n/**\n * @param {?} fn\n * @return {?}\n */\nregisterOnChange(fn: Function): void {\n    this.controlChange = fn\n  }\n/**\n * @param {?} fn\n * @return {?}\n */\nregisterOnTouched(fn: Function): void {\n    this.controlTouch = fn\n  }\nprivate controlChange: Function = () => {}\nprivate controlTouch: Function = () => {}\n  \nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'el-slider',\n  providers: [{\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => ElSlider),\n    multi: true\n  }],\n  template: `\n    <div class=\"el-slider\" [class.is-vertical]=\"vertical\">\n      <div class=\"el-slider__runway\" [class.disabled]=\"elDisabled\"\n        [style]=\"makeRunwayStyle()\" (click)=\"onSliderClick($event)\" #runway>\n        <div class=\"el-slider__bar\" [style]=\"makeBarStyle()\"></div>\n        <el-slider-button [vertical]=\"vertical\"\n          [model]=\"model\"\n          (modelChange)=\"moveChange($event)\"\n          [min]=\"min\" [max]=\"max\"\n          [format-tooltip]=\"formatTooltip\"\n          [elDisabled]=\"!showTooltip\">\n        </el-slider-button>\n      </div>\n    </div>\n  `,\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: DomSanitizer, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'runwayElement': [{ type: ViewChild, args: ['runway', ] },],\n};\n}\n\nfunction ElSlider_tsickle_Closure_declarations() {\n/** @type {?} */\nElSlider.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nElSlider.ctorParameters;\n/** @type {?} */\nElSlider.propDecorators;\n/** @type {?} */\nElSlider.prototype.runwayElement;\n/** @type {?} */\nElSlider.prototype.size;\n/** @type {?} */\nElSlider.prototype.start;\n/** @type {?} */\nElSlider.prototype.isDragging;\n/** @type {?} */\nElSlider.prototype.controlChange;\n/** @type {?} */\nElSlider.prototype.controlTouch;\n/** @type {?} */\nElSlider.prototype.sanitizer;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}