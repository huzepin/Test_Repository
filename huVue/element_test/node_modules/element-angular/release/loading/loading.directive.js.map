{"version":3,"sources":["../../src/loading/loading.directive.ts"],"names":[],"mappings":"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","file":"loading.directive.js","sourceRoot":"","sourcesContent":["import {\n  Input, Directive, OnInit, ElementRef, Renderer2,\n} from '@angular/core';\nimport { DocumentWrapper, WindowWrapper } from '../shared/services/index';\nexport class ElLoadingDirective implements OnInit {\n  \n   text: string\n   lock: boolean = false        // ban scroll on loading active\n   customClass: string\n   fullScreen: boolean = false\n   elLoadingTop: string = '50%'\n/**\n * @param {?} val\n * @return {?}\n */\nset showLoading(val: boolean) {\n    this.visible = val\n    if (!this.cacheElement) return\n    this.cacheElement.innerHTML = this.makeHtml()\n  }\n  \n  cacheElement: HTMLElement\n  cacheOverflow: string\nprivate visible: boolean = false\n/**\n * @param {?} el\n * @param {?} renderer\n * @param {?} document\n * @param {?} window\n */\nconstructor(\nprivate el: ElementRef,\nprivate renderer: Renderer2,\nprivate document: DocumentWrapper,\nprivate window: WindowWrapper,\n  ) {\n  }\n/**\n * @param {?=} status\n * @return {?}\n */\ntoggleLock(status: boolean = false): void {\n    if (!this.lock) return\n    const /** @type {?} */ nextValue = status ? 'hidden' : this.cacheOverflow\n    this.renderer.setStyle(this.document.body, 'overflow', nextValue)\n  }\n/**\n * @return {?}\n */\nmakeHtml(): string {\n    this.lock && this.toggleLock(this.visible)\n    return `\n      <div class=\"el-loading-mask ${this.customClass} ${this.fullScreen ? ' is-fullscreen' : ''}\"\n        style=\"display: ${this.visible ? 'block': 'none'}\">\n        <div class=\"el-loading-spinner\" style=\"top: ${this.elLoadingTop}\">\n          <svg class=\"circular\" viewBox=\"25 25 50 50\">\n            <circle class=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\"/>\n          </svg>\n          <p class=\"el-loading-text\" style=\"display: ${this.text ? 'block': 'none'}\">\n            ${this.text}\n          </p>\n        </div>\n      </div>\n    `\n  }\n/**\n * @return {?}\n */\nngOnInit(): void {\n    // save old overflow\n    if (this.lock) {\n      this.cacheOverflow = this.window.getComputedStyle(this.document.body).overflow\n    }\n    \n    this.cacheElement = this.renderer.createElement('div')\n    this.cacheElement.innerHTML = this.makeHtml()\n    const /** @type {?} */ parentElement = this.fullScreen ? this.document.body : this.el.nativeElement\n    if (!this.fullScreen) {\n      this.renderer.setStyle(this.el.nativeElement, 'position', 'relative')\n    }\n    this.renderer.appendChild(parentElement, this.cacheElement)\n  }\n  \nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n  selector: '[el-loading]',\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n{type: Renderer2, },\n{type: DocumentWrapper, },\n{type: WindowWrapper, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'text': [{ type: Input },],\n'lock': [{ type: Input },],\n'customClass': [{ type: Input, args: ['custom-class', ] },],\n'fullScreen': [{ type: Input, args: ['full-screen', ] },],\n'elLoadingTop': [{ type: Input, args: ['el-loading-top', ] },],\n'showLoading': [{ type: Input, args: ['el-loading', ] },],\n};\n}\n\nfunction ElLoadingDirective_tsickle_Closure_declarations() {\n/** @type {?} */\nElLoadingDirective.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nElLoadingDirective.ctorParameters;\n/** @type {?} */\nElLoadingDirective.propDecorators;\n/** @type {?} */\nElLoadingDirective.prototype.text;\n/** @type {?} */\nElLoadingDirective.prototype.lock;\n/** @type {?} */\nElLoadingDirective.prototype.customClass;\n/** @type {?} */\nElLoadingDirective.prototype.fullScreen;\n/** @type {?} */\nElLoadingDirective.prototype.elLoadingTop;\n/** @type {?} */\nElLoadingDirective.prototype.cacheElement;\n/** @type {?} */\nElLoadingDirective.prototype.cacheOverflow;\n/** @type {?} */\nElLoadingDirective.prototype.visible;\n/** @type {?} */\nElLoadingDirective.prototype.el;\n/** @type {?} */\nElLoadingDirective.prototype.renderer;\n/** @type {?} */\nElLoadingDirective.prototype.document;\n/** @type {?} */\nElLoadingDirective.prototype.window;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}