{"version":3,"sources":["../../src/dropdown/dropdown.ts"],"names":[],"mappings":"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","file":"dropdown.js","sourceRoot":"","sourcesContent":["import {\n  AfterViewInit, Component, ElementRef, HostListener, OnDestroy, Renderer2,\n  ViewChild,\n} from '@angular/core';\nimport { SafeStyle, DomSanitizer } from '@angular/platform-browser';\nimport { Value } from './dropdown.item';\nimport { ElDropdownProps } from './dropdown.props';\nimport { dropAnimation } from './animation';\nimport { DocumentWrapper } from '../shared/services/index';\nexport class ElDropdown extends ElDropdownProps implements OnDestroy, AfterViewInit {\n  \n   list: any\n  \n  showMenu: boolean = false\n  timer: any\n  slideToBottom: boolean = true\n  listHeight: number\n  globalListenFunc: Function\n  globalScrollFunc: Function\n  \n   mouseleave = () => {\n    if (this.trigger !== 'hover') return\n    this.timer = setTimeout(() => {\n      this.closeMenu()\n      clearTimeout(this.timer)\n    }, 400)\n  }\n  \n   mouseenter = () => {\n    if (this.trigger !== 'hover') return\n    this.timer && clearTimeout(this.timer)\n    !this.showMenu && this.visibleChange.emit()\n    this.showMenu = true\n  }\n/**\n * @param {?} renderer\n * @param {?} sanitizer\n * @param {?} document\n * @param {?} el\n */\nconstructor(\nprivate renderer: Renderer2,\nprivate sanitizer: DomSanitizer,\nprivate document: DocumentWrapper,\nprivate el: ElementRef,\n  ) {\n    super()\n  }\n/**\n * @param {?=} event\n * @return {?}\n */\nopenMenu(event?: Event): void {\n    event && event.stopPropagation()\n    this.showMenu = !this.showMenu\n    this.visibleChange.emit()\n    this.globalListenFunc = this.renderer.listen(\n      'document', 'click', () => {\n        this.closeMenu()\n      }\n    )\n  }\n/**\n * @return {?}\n */\ncloseMenu(): void {\n    this.showMenu = false\n    this.visibleChange.emit()\n    this.globalListenFunc && this.globalListenFunc()\n  }\n/**\n * @param {?} model\n * @return {?}\n */\nselectHandle(model: Value): void {\n    this.selected.emit(model)\n    \n    // select and hide menu (props)\n    this.hideOnClick && this.closeMenu()\n  }\n/**\n * @return {?}\n */\nmakeListStyles(): SafeStyle {\n    const /** @type {?} */ styles = `top: ${this.slideToBottom ? '100%' : (0 - this.listHeight) + 'px' };` +\n      `${this.menuAlign === 'end' ? 'right' : 'left'}: 0; position: absolute; min-width: 100px;` +\n      `white-space: ${this.menuNoWrap ? 'nowrap' : 'normal'}`\n    return this.sanitizer.bypassSecurityTrustStyle(styles)\n  }\n/**\n * @return {?}\n */\nngAfterViewInit(): void {\n    this.listHeight = this.list.nativeElement.offsetHeight + 12\n    this.globalScrollFunc = this.renderer.listen(\n    'window', 'scroll', () => {\n      const /** @type {?} */ top = this.el.nativeElement.getBoundingClientRect().top\n      const /** @type {?} */ nextValue = this.document.documentElement.clientHeight - top > this.listHeight\n      if (nextValue !== this.slideToBottom) {\n        this.slideToBottom = nextValue\n      }\n    })\n  }\n/**\n * @return {?}\n */\nngOnDestroy(): void {\n    this.globalListenFunc && this.globalListenFunc()\n    this.globalScrollFunc && this.globalScrollFunc()\n  }\n\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'el-dropdown',\n  template: `\n    <ng-template #content>\n      <ng-content></ng-content>\n    </ng-template>\n    <div class=\"el-dropdown\">\n      <ng-container *ngIf=\"splitButton\">\n        <el-button [type]=\"type\" [size]=\"size\" (click)=\"openMenu($event)\">\n          <span>\n            <ng-template [ngTemplateOutlet]=\"content\"></ng-template>\n            <i class=\"el-icon-caret-bottom el-icon--right\"></i>\n          </span>\n        </el-button>\n      </ng-container>\n      <ng-container *ngIf=\"!splitButton\">\n        <span class=\"el-dropdown-link\" (click)=\"openMenu($event)\" style=\"cursor: pointer;\">\n          <ng-template [ngTemplateOutlet]=\"content\"></ng-template>\n          <i class=\"el-icon-caret-bottom el-icon--right\"></i>\n        </span>\n      </ng-container>\n      <div [style]=\"makeListStyles()\">\n        <ul class=\"el-dropdown-menu\" #list [@dropAnimation]=\"showMenu\">\n          <el-dropdown-item *ngFor=\"let item of model\" [model]=\"item\" (selected)=\"selectHandle(item)\">\n          </el-dropdown-item>\n        </ul>\n      </div>\n    </div>\n  `,\n  animations: [dropAnimation],\n  styles: ['.el-dropdown-menu { overflow: hidden; }'],\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Renderer2, },\n{type: DomSanitizer, },\n{type: DocumentWrapper, },\n{type: ElementRef, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'list': [{ type: ViewChild, args: ['list', ] },],\n'mouseleave': [{ type: HostListener, args: ['mouseleave', ] },],\n'mouseenter': [{ type: HostListener, args: ['mouseenter', ] },],\n};\n}\n\nfunction ElDropdown_tsickle_Closure_declarations() {\n/** @type {?} */\nElDropdown.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nElDropdown.ctorParameters;\n/** @type {?} */\nElDropdown.propDecorators;\n/** @type {?} */\nElDropdown.prototype.list;\n/** @type {?} */\nElDropdown.prototype.showMenu;\n/** @type {?} */\nElDropdown.prototype.timer;\n/** @type {?} */\nElDropdown.prototype.slideToBottom;\n/** @type {?} */\nElDropdown.prototype.listHeight;\n/** @type {?} */\nElDropdown.prototype.globalListenFunc;\n/** @type {?} */\nElDropdown.prototype.globalScrollFunc;\n/** @type {?} */\nElDropdown.prototype.mouseleave;\n/** @type {?} */\nElDropdown.prototype.mouseenter;\n/** @type {?} */\nElDropdown.prototype.renderer;\n/** @type {?} */\nElDropdown.prototype.sanitizer;\n/** @type {?} */\nElDropdown.prototype.document;\n/** @type {?} */\nElDropdown.prototype.el;\n}\n\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}