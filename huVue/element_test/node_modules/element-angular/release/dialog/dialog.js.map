{"version":3,"sources":["../../src/dialog/dialog.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,OAAO,EACL,SAAS,EAAE,YAAA,EAAc,KAAA,EACjB,SAAA,GACT,MAAM,eAAA,CAAgB;AACvB,OAAO,EAAa,YAAA,EAAa,MAAA,2BAAA,CAAA;AACjC,OAAO,EAAE,eAAA,EAAiB,aAAA,EAAc,MAAA,0BAAA,CAAA;AACxC,OAAO,EAAE,aAAA,EAAc,MAAA,gBAAA,CAAA;AACvB,OAAO,EAAE,mBAAA,EAAoB,MAAA,2BAAA,CAAA;AAC7B;IAEC,4BAAA;IAOD;;;;;OAKG;IACH,kBAFY,SAAW,EACX,QAAU,EACV,MAAQ,EACR,QAAU;QADtB,YAMI,iBAAO,SACR;QATS,eAAA,GAAA,SAAA,CAAW;QACX,cAAA,GAAA,QAAA,CAAU;QACV,YAAA,GAAA,MAAA,CAAQ;QACR,cAAA,GAAA,QAAA,CAAU;;IAMpB,CAAC;IACH;;OAEG;IACH,mCALG,GAKH;QACI,IAAM,gBAAgB,CALhB,KAAA,GAAgB,IAAA,CAAK,KAAC,CAAK,CAAA,CAAE,YAAA,IAAW,CAAI,KAAC,MAAK,CAAG,CAAA,CAAE,EAAA,CAAA;QAM7D,IAAM,gBAAgB,CALhB,MAAA,GAAiB,UAAA,IAAS,CAAI,GAAC,SAAG,KAAS,CAAA;QAMjD,MAAM,CALC,IAAA,CAAK,SAAC,CAAS,wBAAC,CAAwB,MAAC,CAAM,CAAA;IAMxD,CAAC;IACH;;OAEG;IACH,+BAPG,GAOH;QAAA,iBAMG;QALC,IAAI,CAPC,WAAC,CAAW;YAQf,KAAI,CAPC,OAAC,GAAS,KAAA,CAAA;YAQf,KAAI,CAPC,aAAC,CAAa,IAAC,CAAI,KAAC,CAAI,OAAC,CAAO,CAAA;YAQrC,KAAI,CAPC,uBAAC,EAAuB,CAAA;QAQ/B,CAAC,CAPC,CAAA;IAQJ,CAAC;IACH;;OAEG;IACH,qCATG,GASH;QACI,eAAe;QACf,EAAE,CAAC,CAAC,IATC,CAAI,iBAAC,CAAiB,CAAC,CAAA;YAU1B,IAAI,CATC,YAAC,EAAY,CAAA;QAUpB,CAAC;IACH,CAAC;IACH;;OAEG;IACH,0CAXG,GAWH;QACI,eAAe;QACf,EAAE,CAAC,CAAC,IAXC,CAAI,iBAAC,CAAiB,CAAC,CAAA;YAY1B,qEAAqE;YACrE,IAAI,CAXC,QAAC,CAAQ,QAAC,CAAQ,IAAC,CAAI,iBAAC,EAAkB,SAAA,EAAW,IAAA,CAAK,OAAC,CAAO,CAAA,CAAE,OAAA,CAAQ,CAAA,CAAE,MAAA,CAAO,CAAA;QAY5F,CAAC;QACD,mBAAmB;QACnB,EAAE,CAAC,CAAC,IAXC,CAAI,UAAC,CAAU,CAAC,CAAA;YAYnB,IAAM,gBAAgB,CAXhB,SAAA,GAAY,IAAA,CAAK,OAAC,CAAO,CAAA,CAAE,QAAA,CAAS,CAAA,CAAE,IAAA,CAAK,aAAC,CAAA;YAYlD,IAAI,CAXC,QAAC,CAAQ,QAAC,CAAQ,IAAC,CAAI,QAAC,CAAQ,IAAC,EAAK,UAAA,EAAY,SAAA,CAAU,CAAA;QAYnE,CAAC;IACH,CAAC;IACH;;OAEG;IACH,2BAbG,GAaH;QAAA,iBAiBG;QAhBC,oBAAoB;QACpB,EAAE,CAAC,CAAC,IAbC,CAAI,UAAC,CAAU,CAAC,CAAA;YAcnB,IAAI,CAbC,aAAC,GAAe,IAAA,CAAK,MAAC,CAAM,gBAAC,CAAgB,IAAC,CAAI,QAAC,CAAQ,IAAC,CAAI,CAAC,QAAC,CAAA;QAczE,CAAC;QACD,IAAI,CAbC,iBAAC,GAAmB,IAAA,CAAK,QAAC,CAAQ,aAAC,CAAa,KAAC,CAAK,CAAA;QAc3D,IAAI,CAbC,QAAC,CAAQ,YAAC,CAAY,IAAC,CAAI,iBAAC,EAAkB,OAAA,EAAS,SAAA,CAAU,CAAA;QActE,IAAI,CAbC,QAAC,CAAQ,QAAC,CAAQ,IAAC,CAAI,iBAAC,EAAkB,SAAA,EAAW,IAAA,CAAK,WAAC,CAAW,CAAA;QAc3E,IAAI,CAbC,QAAC,CAAQ,QAAC,CAAQ,IAAC,CAAI,iBAAC,EAAkB,SAAA,EAAW,IAAA,CAAK,OAAC,CAAO,CAAA,CAAE,OAAA,CAAQ,CAAA,CAAE,MAAA,CAAO,CAAA;QAc1F,IAAI,CAbC,QAAC,CAAQ,IAAC,CAAI,WAAC,CAAW,IAAC,CAAI,iBAAC,CAAiB,CAAA;QActD,aAAa;QACb,EAAE,CAAC,CAAC,IAbC,CAAI,kBAAC,CAAkB,CAAC,CAAA;YAc3B,IAAI,CAbC,gBAAC,GAAkB,IAAA,CAAK,QAAC,CAAQ,MAAC,CAcvC,UAAU,EAbE,SAAA,EAAW,UAAA,KAAQ;gBAc7B,KAAI,CAbC,OAAC,IAAU,KAAA,CAAM,OAAC,KAAW,EAAA,IAAM,KAAA,CAAK,YAAC,EAAY,CAAA;YAc5D,CAAC,CAbC,CAAA;QAcJ,CAAC;IACH,CAAC;IACH;;;OAGG;IACH,8BAhBG,GAgBH,UAhBG,OAAA;QAiBC,oBAAoB;QACpB,EAAE,CAAC,CAAC,CAhBC,OAAC,IAAU,CAAA,OAAE,CAAO,OAAC,CAAO;YAAC,MAAA,CAAA;QAiBlC,IAAI,CAhBC,OAAC,GAAS,OAAA,CAAQ,OAAC,CAAO,YAAC,CAAA;QAiBhC,IAAI,CAhBC,uBAAC,EAAuB,CAAA;IAiB/B,CAAC;IACH;;OAEG;IACH,8BAlBG,GAkBH;QACI,IAAI,CAlBC,gBAAC,IAAmB,IAAA,CAAK,gBAAC,EAAgB,CAAA;QAmB/C,IAAI,CAlBC,iBAAC,CAAiB,aAAC,CAAa,WAAC,CAAW,IAAC,CAAI,iBAAC,CAAiB,CAAA;QAmBxE,IAAI,CAlBC,QAAC,CAAQ,QAAC,CAAQ,IAAC,CAAI,QAAC,CAAQ,IAAC,EAAK,UAAA,EAAY,IAAA,CAAK,aAAC,CAAa,CAAA;IAmB5E,CAAC;IAhBI,mBAAA,GAAoC;QAmB3C,EAlBE,IAAA,EAAM,SAAA,EAAW,IAAA,EAAM,CAAA;oBAmBvB,QAAQ,EAlBE,WAAA;oBAmBV,UAAU,EAlBE,CAAA,mBAAE,CAAmB;oBAmBjC,QAAQ,EAlBE,8sCAgDT;iBACF,EAlBC,EAAG;KAmBJ,CAlBC;IAmBF;;OAEG;IAnBF,uBAAA,GAAA,cAAA,OAAA;QAqBD,EAAC,IAAI,EAAE,YAAY,GAAG;QACtB,EAAC,IAAI,EAAE,SAAS,GAAG;QACnB,EAAC,IAAI,EAAE,aAAa,GAAG;QACvB,EAAC,IAAI,EAAE,eAAe,GAAG;KACxB,EAzBA,CAyBA,CAAC;IAnBK,uBAAA,GAAyD;QAqBhE,UAAU,EApBE,CAAA,EAAG,IAAA,EAAM,YAAA,EAAc,IAAA,EAAM,CAAA,OAAE,EAAO,EAAG,EAAE;QAqBvD,WAAW,EApBE,CAAA,EAAG,IAAA,EAAM,YAAA,EAAc,IAAA,EAAM,CAAA,QAAE,EAAQ,EAAG,EAAE;QAqBzD,OAAO,EApBE,CAAA,EAAG,IAAA,EAAM,KAAA,EAAM,EAAE;KAqBzB,CApBC;IAqBF,eAAC;CA5JD,AA4JC,CA1JA,aAAA,GA0JA;SA1JA,QAAA;AA4JD;IACA,gBAAgB;IAChB,QAAQ,CAAC,UAAU,CAAC;IACpB;;;OAGG;IACH,QAAQ,CAAC,cAAc,CAAC;IACxB,gBAAgB;IAChB,QAAQ,CAAC,cAAc,CAAC;IACxB,gBAAgB;IAChB,QAAQ,CAAC,SAAS,CAAC,QAAQ,CAAC;IAC5B,gBAAgB;IAChB,QAAQ,CAAC,SAAS,CAAC,SAAS,CAAC;IAC7B,gBAAgB;IAChB,QAAQ,CAAC,SAAS,CAAC,KAAK,CAAC;IACzB,gBAAgB;IAChB,QAAQ,CAAC,SAAS,CAAC,aAAa,CAAC;IACjC,gBAAgB;IAChB,QAAQ,CAAC,SAAS,CAAC,iBAAiB,CAAC;IACrC,gBAAgB;IAChB,QAAQ,CAAC,SAAS,CAAC,gBAAgB,CAAC;IACpC,gBAAgB;IAChB,QAAQ,CAAC,SAAS,CAAC,SAAS,CAAC;IAC7B,gBAAgB;IAChB,QAAQ,CAAC,SAAS,CAAC,QAAQ,CAAC;IAC5B,gBAAgB;IAChB,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC;IAC1B,gBAAgB;IAChB,QAAQ,CAAC,SAAS,CAAC,QAAQ,CAAC;AAC5B,CAAC","file":"dialog.js","sourceRoot":"","sourcesContent":["import {\n  Component, ContentChild, Input, OnChanges, OnDestroy,\n  OnInit, Renderer2, SimpleChanges, TemplateRef,\n} from '@angular/core';\nimport { SafeStyle, DomSanitizer } from '@angular/platform-browser';\nimport { DocumentWrapper, WindowWrapper } from '../shared/services/index';\nimport { ElDialogProps } from './dialog.props';\nimport { dialogFadeAnimation } from '../shared/animation/index';\nexport class ElDialog extends ElDialogProps implements OnInit, OnChanges, OnDestroy {\n  \n   titleTmp: TemplateRef<any>\n   footerTmp: TemplateRef<any>\n   model: string | number\n  \n  cacheOverflow: string\n  cacheModalElement: Element\n  globalListenFunc: Function\n/**\n * @param {?} sanitizer\n * @param {?} renderer\n * @param {?} window\n * @param {?} document\n */\nconstructor(\nprivate sanitizer: DomSanitizer,\nprivate renderer: Renderer2,\nprivate window: WindowWrapper,\nprivate document: DocumentWrapper,\n  ) {\n    super()\n  }\n/**\n * @return {?}\n */\nmakeDialogStyles(): SafeStyle {\n    const /** @type {?} */ width: string = this.width ? `width: ${this.width};` : ''\n    const /** @type {?} */ styles: string = `top: ${this.top};${width}`\n    return this.sanitizer.bypassSecurityTrustStyle(styles)\n  }\n/**\n * @return {?}\n */\ncloseHandler(): void {\n    this.beforeClose(() => {\n      this.visible = false\n      this.visibleChange.emit(this.visible)\n      this.updateWithVisibleChange()\n    })\n  }\n/**\n * @return {?}\n */\nwrapperClickHandle(): void {\n    // close dialog\n    if (this.closeOnClickModal) {\n      this.closeHandler()\n    }\n  }\n/**\n * @return {?}\n */\nupdateWithVisibleChange(): void {\n    // update modal\n    if (this.cacheModalElement) {\n      // this.cacheModalElement.innerHTML = this.makeModalTmp(this.visible)\n      this.renderer.setStyle(this.cacheModalElement, 'display', this.visible ? 'block' : 'none')\n    }\n    // lock body scroll\n    if (this.lockScroll) {\n      const /** @type {?} */ nextValue = this.visible ? 'hidden' : this.cacheOverflow\n      this.renderer.setStyle(this.document.body, 'overflow', nextValue)\n    }\n  }\n/**\n * @return {?}\n */\nngOnInit(): void {\n    // save old overflow\n    if (this.lockScroll) {\n      this.cacheOverflow = this.window.getComputedStyle(this.document.body).overflow\n    }\n    this.cacheModalElement = this.renderer.createElement('div')\n    this.renderer.setAttribute(this.cacheModalElement, 'class', 'v-modal')\n    this.renderer.setStyle(this.cacheModalElement, 'z-index', this.modalZindex)\n    this.renderer.setStyle(this.cacheModalElement, 'display', this.visible ? 'block' : 'none')\n    this.document.body.appendChild(this.cacheModalElement)\n    // listen esc\n    if (this.closeOnPressEscape) {\n      this.globalListenFunc = this.renderer.listen(\n      'document', 'keydown', (event: KeyboardEvent) => {\n        this.visible && event.keyCode === 27 && this.closeHandler()\n      })\n    }\n  }\n/**\n * @param {?} changes\n * @return {?}\n */\nngOnChanges(changes: SimpleChanges): void {\n    // not include model\n    if (!changes || !changes.visible) return\n    this.visible = changes.visible.currentValue\n    this.updateWithVisibleChange()\n  }\n/**\n * @return {?}\n */\nngOnDestroy(): void {\n    this.globalListenFunc && this.globalListenFunc()\n    this.cacheModalElement.parentElement.removeChild(this.cacheModalElement)\n    this.renderer.setStyle(this.document.body, 'overflow', this.cacheOverflow)\n  }\n  \nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'el-dialog',\n  animations: [dialogFadeAnimation],\n  template: `\n    <div class=\"el-dialog__wrapper\" [@dialogFadeAnimation]=\"visible\"\n      [ngStyle]=\"{ 'z-index': dialogZindex }\"\n      (click)=\"wrapperClickHandle()\">\n      <div [class]=\"'el-dialog ' + customClass\"\n        [class.el-dialog--center]=\"center\"\n        [style]=\"makeDialogStyles()\"\n        (click)=\"$event.stopPropagation()\">\n        <div class=\"el-dialog__header\">\n          <ng-container *ngIf=\"titleTmp\">\n            <ng-template [ngTemplateOutlet]=\"titleTmp\"></ng-template>\n          </ng-container>\n          <span class=\"el-dialog__title\" *ngIf=\"!titleTmp\">{{title}}</span>\n          <button type=\"button\" class=\"el-dialog__headerbtn\"\n            aria-label=\"Close\"\n            *ngIf=\"showClose\"\n            (click)=\"closeHandler()\">\n            <i class=\"el-dialog__close el-icon el-icon-close\"></i>\n          </button>\n        </div>\n        <div class=\"el-dialog__body\">\n          <ng-content></ng-content>\n        </div>\n        <div class=\"el-dialog__footer\">\n          <ng-container *ngIf=\"footerTmp\">\n            <ng-template [ngTemplateOutlet]=\"footerTmp\"></ng-template>\n          </ng-container>\n        </div>\n      </div>\n    </div>\n  `,\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: DomSanitizer, },\n{type: Renderer2, },\n{type: WindowWrapper, },\n{type: DocumentWrapper, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'titleTmp': [{ type: ContentChild, args: ['title', ] },],\n'footerTmp': [{ type: ContentChild, args: ['footer', ] },],\n'model': [{ type: Input },],\n};\n}\n\nfunction ElDialog_tsickle_Closure_declarations() {\n/** @type {?} */\nElDialog.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nElDialog.ctorParameters;\n/** @type {?} */\nElDialog.propDecorators;\n/** @type {?} */\nElDialog.prototype.titleTmp;\n/** @type {?} */\nElDialog.prototype.footerTmp;\n/** @type {?} */\nElDialog.prototype.model;\n/** @type {?} */\nElDialog.prototype.cacheOverflow;\n/** @type {?} */\nElDialog.prototype.cacheModalElement;\n/** @type {?} */\nElDialog.prototype.globalListenFunc;\n/** @type {?} */\nElDialog.prototype.sanitizer;\n/** @type {?} */\nElDialog.prototype.renderer;\n/** @type {?} */\nElDialog.prototype.window;\n/** @type {?} */\nElDialog.prototype.document;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}