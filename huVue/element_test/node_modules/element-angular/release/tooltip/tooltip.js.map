{"version":3,"sources":["../../src/tooltip/tooltip.ts"],"names":[],"mappings":"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","file":"tooltip.js","sourceRoot":"","sourcesContent":["import {\n  AfterContentInit, Component, ContentChild, ElementRef, Input,\n  Renderer2, TemplateRef, ViewChild,\n} from '@angular/core';\nimport { fadeAnimation } from '../shared/animation/index';\nimport { WindowWrapper } from '../shared/services/index';\nimport { getRealShape, getPositionForDir } from '../shared/utils/index';\n\nexport type Shape = { width: number, height: number }\nexport class ElTooltip implements AfterContentInit {\n/**\n * @param {?} val\n * @return {?}\n */\nset disabled(val: boolean) {   // todo, is discarded.\n    console.warn('Element Angular: (disabled) is discarded, use [elDisabled] replace it.')\n  }\n   elDisabled: boolean = false\n   watch: boolean = false\n   placement: string = 'bottom'\n   popperClass: string\n   effect: string = 'dark'\n   visibleArrow: boolean = true\n   popperContent: ElementRef\n   tip: TemplateRef<any>\n  \n  xPlacement: string = 'bottom'\n  showPopper: boolean = true\n  cache: any = {}\n  tipElementShape: Shape\n/**\n * @param {?} renderer\n * @param {?} el\n * @param {?} window\n */\nconstructor(\nprivate renderer: Renderer2,\nprivate el: ElementRef,\nprivate window: WindowWrapper,\n  ) {\n  }\n/**\n * @param {?} hostRect\n * @param {?} selfRect\n * @return {?}\n */\ngetPosition(hostRect: any, selfRect: any): void {\n    const /** @type {?} */ doubleConventions: boolean = this.placement.includes('-')\n    const /** @type {?} */ arrowDir: string = doubleConventions ? this.placement.split('-')[1] : 'center'\n    const /** @type {?} */ dir: string = doubleConventions ? this.placement.split('-')[0] : this.placement\n    const /** @type {?} */ position: any = getPositionForDir(hostRect, selfRect, dir, arrowDir)\n    this.cache.position = position\n    this.cache.hostRect = hostRect\n  }\n/**\n * @return {?}\n */\nsetPopoerPositionAndShow(): void {\n    const { tipElement, position } = this.cache\n    const /** @type {?} */ arrowElement: Element = tipElement.querySelector('.popper__arrow')\n    this.xPlacement = position.arrowFace\n    this.renderer.setStyle(tipElement, 'left', `${position.left}px`)\n    this.renderer.setStyle(tipElement, 'top', `${position.top}px`)\n    \n    // fix tipbox auto wrap\n    this.renderer.setStyle(tipElement, 'width', `${this.tipElementShape.width}px`)\n    this.renderer.setStyle(tipElement, 'height', `${this.tipElementShape.height}px`)\n    this.renderer.setStyle(arrowElement, position.arrowDir, `${position.arrowPosition}px`)\n  }\n/**\n * @param {?} host\n * @return {?}\n */\nbindEvent(host: HTMLElement): void {\n    host.addEventListener('mouseenter', () => {\n      if (this.elDisabled) return\n      this.setPopoerPositionAndShow()\n      this.showPopper = true\n    })\n    host.addEventListener('mouseleave', () => {\n      this.showPopper = false\n      this.watch && this.update()\n    })\n  }\n/**\n * @return {?}\n */\nupdate(): void {\n    const { tipElement, hostRect } = this.cache\n    this.renderer.setStyle(tipElement, 'width', 'auto')\n    this.renderer.setStyle(tipElement, 'height', 'auto')\n    setTimeout(() => {\n      this.tipElementShape = getRealShape(tipElement)\n      const /** @type {?} */ tipRect = { width: tipElement.offsetWidth, height: tipElement.offsetHeight }\n      this.getPosition(hostRect, tipRect)\n      this.renderer.setStyle(tipElement, 'width', `${this.tipElementShape.width}px`)\n      this.renderer.setStyle(tipElement, 'height', `${this.tipElementShape.height}px`)\n    }, 0)\n  }\n/**\n * @return {?}\n */\nngAfterContentInit(): void {\n    const /** @type {?} */ tipElement: HTMLElement = this.popperContent.nativeElement\n    const /** @type {?} */ hostElement: HTMLElement = this.el.nativeElement.children[0]\n    this.bindEvent(hostElement)\n    this.cache.tipElement = tipElement\n  \n    const /** @type {?} */ timer = setTimeout(() => {\n      this.tipElementShape = getRealShape(tipElement)\n      const /** @type {?} */ tipRect = { width: tipElement.offsetWidth, height: tipElement.offsetHeight }\n      const /** @type {?} */ hostRect = hostElement.getBoundingClientRect()\n      this.getPosition(hostRect, tipRect)\n      clearTimeout(timer)\n    }, 0)\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'el-tooltip',\n  template: `\n    <div style=\"position: relative; display: inline-block;\">\n      <div [class]=\"'el-tooltip__popper is-' + effect + ' ' + popperClass\"\n        style=\"left: -20000px; top: 0; position: absolute;\"\n        [@fadeAnimation]=\"!showPopper\" [attr.x-placement]=\"xPlacement\" #popperContent>\n        <div x-arrow class=\"popper__arrow\" [hidden]=\"!visibleArrow\"></div>\n        <ng-template [ngTemplateOutlet]=\"tip\"></ng-template>\n      </div>\n      <ng-content></ng-content>\n    </div>\n  `,\n  animations: [fadeAnimation],\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Renderer2, },\n{type: ElementRef, },\n{type: WindowWrapper, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'disabled': [{ type: Input },],\n'elDisabled': [{ type: Input },],\n'watch': [{ type: Input },],\n'placement': [{ type: Input },],\n'popperClass': [{ type: Input },],\n'effect': [{ type: Input },],\n'visibleArrow': [{ type: Input, args: ['visible-arrow', ] },],\n'popperContent': [{ type: ViewChild, args: ['popperContent', ] },],\n'tip': [{ type: ContentChild, args: ['tip', ] },],\n};\n}\n\nfunction ElTooltip_tsickle_Closure_declarations() {\n/** @type {?} */\nElTooltip.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nElTooltip.ctorParameters;\n/** @type {?} */\nElTooltip.propDecorators;\n/** @type {?} */\nElTooltip.prototype.elDisabled;\n/** @type {?} */\nElTooltip.prototype.watch;\n/** @type {?} */\nElTooltip.prototype.placement;\n/** @type {?} */\nElTooltip.prototype.popperClass;\n/** @type {?} */\nElTooltip.prototype.effect;\n/** @type {?} */\nElTooltip.prototype.visibleArrow;\n/** @type {?} */\nElTooltip.prototype.popperContent;\n/** @type {?} */\nElTooltip.prototype.tip;\n/** @type {?} */\nElTooltip.prototype.xPlacement;\n/** @type {?} */\nElTooltip.prototype.showPopper;\n/** @type {?} */\nElTooltip.prototype.cache;\n/** @type {?} */\nElTooltip.prototype.tipElementShape;\n/** @type {?} */\nElTooltip.prototype.renderer;\n/** @type {?} */\nElTooltip.prototype.el;\n/** @type {?} */\nElTooltip.prototype.window;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}