{"version":3,"sources":["../../src/notification/notification.service.ts"],"names":[],"mappings":"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","file":"notification.service.js","sourceRoot":"","sourcesContent":["import { ComponentRef, Injectable, Optional } from '@angular/core';\nimport { ElNotificationContainer } from './notification';\nimport { ExDynamicService } from '../shared/services/index';\n\nexport interface Options {\n  type?: string\n  offset?: number\n  position?: string\n  iconClass?: string\n  customClass?: string\n  duration?: number\n  showClose?: boolean\n  zIndex?: number\n  onClose?: Function\n}\nexport class ElNotificationService {\n  \n  components: any[] = []\n/**\n * @param {?} root\n * @param {?} dynamic\n */\nconstructor(\nprivate root: ElNotificationContainer,\nprivate dynamic: ExDynamicService\n  ) {\n    this.createComponent()\n  }\n/**\n * @param {?} msg\n * @param {?=} title\n * @return {?}\n */\nshow(msg: string, title?: string): void {\n    const /** @type {?} */ len = this.components.length\n    if (len === 0 || this.components[len - 1].init) {\n      this.createComponent()\n    }\n    \n    // mark the component\n    const /** @type {?} */ currentLen = this.components.length\n    const /** @type {?} */ current = this.components[currentLen - 1]\n    current.init = true\n    current.instance.setContent(msg, title)\n    \n    // init current component\n    if (currentLen > 1) {\n      const /** @type {?} */ lastInstance = this.components[currentLen - 2].instance\n      current.instance.offset = lastInstance.height + lastInstance.offset + 15\n    }\n    \n    current.instance.onDestroy = () => {\n      const /** @type {?} */ index = this.components.findIndex(com => com.id === current.id)\n      \n      // reflow top style\n      this.components.forEach((com, i) => {\n        if (i <= index) return\n        com.instance.offset = com.instance.offset - current.instance.height - 15\n      })\n      // component detach and remove element\n      this.dynamic.destroy(current.copy)\n      // remove empty item\n      this.components.splice(index, 1)\n    }\n    \n    const /** @type {?} */ timer = setTimeout(() => {\n      current.instance.show()\n      clearTimeout(timer)\n    }, 0)\n  }\n/**\n * @param {?} msg\n * @param {?=} title\n * @return {?}\n */\nsuccess(msg: string, title?: string): void {\n    this.setOptions({ type: 'success' })\n    this.show(msg, title)\n  }\n/**\n * @param {?} msg\n * @param {?=} title\n * @return {?}\n */\nwarning(msg: string, title?: string): void {\n    this.setOptions({ type: 'warning' })\n    this.show(msg, title)\n  }\n/**\n * @param {?} msg\n * @param {?=} title\n * @return {?}\n */\ninfo(msg: string, title?: string): void {\n    this.setOptions({ type: 'info' })\n    this.show(msg, title)\n  }\n/**\n * @param {?} msg\n * @param {?=} title\n * @return {?}\n */\nerror(msg: string, title?: string): void {\n    this.setOptions({ type: 'error' })\n    this.show(msg, title)\n  }\n/**\n * @param {?} options\n * @return {?}\n */\nsetOptions(options: Options): void {\n    if (this.components.length === 0 || this.components[this.components.length - 1].init) {\n      this.createComponent()\n    }\n    const /** @type {?} */ last = this.components[this.components.length - 1]\n    last.instance = Object.assign(last.instance, options)\n  }\n/**\n * @return {?}\n */\ncreateComponent(): void {\n    const /** @type {?} */ com: ComponentRef<any> = this.dynamic.generator(ElNotificationContainer)\n    this.components.push({\n      instance: com.instance,\n      id: com.instance.id,\n      copy: com,\n      init: false\n    })\n  }\n  \nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElNotificationContainer, decorators: [{ type: Optional }, ]},\n{type: ExDynamicService, },\n];\n}\n\nfunction ElNotificationService_tsickle_Closure_declarations() {\n/** @type {?} */\nElNotificationService.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nElNotificationService.ctorParameters;\n/** @type {?} */\nElNotificationService.prototype.components;\n/** @type {?} */\nElNotificationService.prototype.root;\n/** @type {?} */\nElNotificationService.prototype.dynamic;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}